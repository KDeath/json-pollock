<!doctype html>

<html lang="en">

<head>
  <meta charset="utf-8">

  <title>SC Test</title>
      <link rel="stylesheet" href="/dist/json-pollock.min.css">
    <script src="/dist/json-pollock.js"></script>
    <script>
      window.onload = function () {

        var example = so;

      JsonPollock.registerAction('navigate', function (data) {
        alert(JSON.stringify(data));
      });

      JsonPollock.registerAction('link', function (data) {
        alert(JSON.stringify(data));
      });

      JsonPollock.registerAction('publishText', function (data) {
        alert(JSON.stringify(data));
      });

      JsonPollock.registerAction('checked', function (data) {
        console.log(data);
        let tmp = data.formPtr.querySelector('input[type=submit]');
        if(!this.datalol) {
          this.datalol = "";
        }
        this.datalol += data;
        tmp.disabled = !(!!this.datalol);
        console.log(this.datalol);
      }.bind(this));

      JsonPollock.registerAction('submitAsText', function (data) {
        console.log(data);
        console.log(this);
      });

      var el = JsonPollock.render(JSON.stringify(example));
      document.getElementById('content').appendChild(el);
    }
  </script>
</head>

<body>
  <div id='content'>
  </div>

</body>

</html>
